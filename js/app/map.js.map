{"version":3,"file":"map.js","sources":["map.coffee"],"names":["__hasProp","hasOwnProperty","require","Handlebars","MapView","MarkerList","MarkerModel","_super","__extends","prototype","initialize","Backbone","Model","model","opts","url","this","comparator","marker","get","Collection","el","$","center","map_id","map","width","height","markers","centerMarker","bounds","storedPosition","getBrowserGeolocation","length","render","map_options","append","zoom","google","maps","LatLng","lat","lng","Map","document","getElementById","LatLngBounds","yourPositionMarker","setCenterMarker","centerPin","fetchMarkers","pinsImage","position","pinImage","Marker","icon","title","extend","getPosition","list","self","fetch","success","infowindow","forEach","m","i","contentString","template","compile","popupTemplate","console","log","event","addListener","last_model","close","InfoWindow","content","disableAutoPan","open","fitBounds","geoPosition","init","getCurrentPosition","storePosition","geolocationErrorCallback","cookie","coords","latitude","longitude","err","code","View","window","load_app"],"mappings":"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"}